# Причины вызова на проверку

## Содержание

- [Обзор](#обзор)
- [Список причин](#список-причин)
- [Использование в API](#использование-в-api)

## Обзор

Причина вызова на проверку - это текстовый идентификатор, который указывает основание для вызова игрока на проверку. Этот параметр является обязательным при начале проверки через API и используется для:

- Классификации проверок
- Ведения статистики
- Анализа причин вызовов
- Формирования отчетов

## Список причин

| Причина        | Описание                      | Когда использовать                                                                       |
| -------------- | ----------------------------- | ---------------------------------------------------------------------------------------- |
| `report`       | Вызов игрока по репорту       | Когда игрок был вызван на проверку через систему репортов                                |
| `checkout`     | Вызов игрока по иным причинам | При вызове игрока по:<br>- Жалобе из чата<br>- Подозрению на читы<br>- Другим основаниям |
| `autobuy`      | Автобай                       | При подозрении на использование автоматической покупки                                   |
| `autosell`     | Автоселл                      | При подозрении на использование автоматической продажи                                   |
| `customka`     | Кастомка                      | Игрок с кастомным донатом                                                                |
| `personal`     | Персонал                      | При вызове игрока из персонала                                                           |
| `toManyChecks` | Слишком много проверок        | При большом количестве проверок у игрока                                                 |
| `candidate`    | Кандидат                      | При проверке кандидата                                                                   |

## Использование в API

### Пример использования в запросе

```javascript
// Начало проверки с указанием причины
async function startCheckout() {
  try {
    const response = await fetch(
      "https://journal.holyworld.me/srv/api/v1/checkout/start",
      {
        method: "POST",
        headers: {
          "x-token": "ваш_api_токен",
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          reason: "report", // Одна из причин из списка выше
          // ... другие параметры
        }),
      }
    );

    const data = await response.json();
    console.log("Результат:", data);
  } catch (error) {
    console.error("Ошибка:", error);
  }
}
```

::: warning Важные замечания

- Причина проверки является обязательным параметром
- Значение должно точно соответствовать одному из допустимых вариантов
- Неправильное значение причины приведет к ошибке 400 Bad Request
- Причина проверки сохраняется в истории и не может быть изменена после начала проверки
  :::
